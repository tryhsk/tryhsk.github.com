if(function(){var e=this,n=e._,t=Array.prototype,r=Object.prototype,a=Function.prototype,o=t.push,s=t.slice,i=t.concat,c=r.toString,l=r.hasOwnProperty,u=Array.isArray,d=Object.keys,p=a.bind,h=function(e){return e instanceof h?e:this instanceof h?void(this._wrapped=e):new h(e)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=h),exports._=h):e._=h,h.VERSION="1.7.0";var f=function(e,n,t){if(void 0===n)return e;switch(null==t?3:t){case 1:return function(t){return e.call(n,t)};case 2:return function(t,r){return e.call(n,t,r)};case 3:return function(t,r,a){return e.call(n,t,r,a)};case 4:return function(t,r,a,o){return e.call(n,t,r,a,o)}}return function(){return e.apply(n,arguments)}};h.iteratee=function(e,n,t){return null==e?h.identity:h.isFunction(e)?f(e,n,t):h.isObject(e)?h.matches(e):h.property(e)},h.each=h.forEach=function(e,n,t){if(null==e)return e;n=f(n,t);var r,a=e.length;if(a===+a)for(r=0;a>r;r++)n(e[r],r,e);else{var o=h.keys(e);for(r=0,a=o.length;a>r;r++)n(e[o[r]],o[r],e)}return e},h.map=h.collect=function(e,n,t){if(null==e)return[];n=h.iteratee(n,t);for(var r,a=e.length!==+e.length&&h.keys(e),o=(a||e).length,s=Array(o),i=0;o>i;i++)r=a?a[i]:i,s[i]=n(e[r],r,e);return s};var g="Reduce of empty array with no initial value";h.reduce=h.foldl=h.inject=function(e,n,t,r){null==e&&(e=[]),n=f(n,r,4);var a,o=e.length!==+e.length&&h.keys(e),s=(o||e).length,i=0;if(arguments.length<3){if(!s)throw new TypeError(g);t=e[o?o[i++]:i++]}for(;s>i;i++)a=o?o[i]:i,t=n(t,e[a],a,e);return t},h.reduceRight=h.foldr=function(e,n,t,r){null==e&&(e=[]),n=f(n,r,4);var a,o=e.length!==+e.length&&h.keys(e),s=(o||e).length;if(arguments.length<3){if(!s)throw new TypeError(g);t=e[o?o[--s]:--s]}for(;s--;)a=o?o[s]:s,t=n(t,e[a],a,e);return t},h.find=h.detect=function(e,n,t){var r;return n=h.iteratee(n,t),h.some(e,function(e,t,a){return n(e,t,a)?(r=e,!0):void 0}),r},h.filter=h.select=function(e,n,t){var r=[];return null==e?r:(n=h.iteratee(n,t),h.each(e,function(e,t,a){n(e,t,a)&&r.push(e)}),r)},h.reject=function(e,n,t){return h.filter(e,h.negate(h.iteratee(n)),t)},h.every=h.all=function(e,n,t){if(null==e)return!0;n=h.iteratee(n,t);var r,a,o=e.length!==+e.length&&h.keys(e),s=(o||e).length;for(r=0;s>r;r++)if(a=o?o[r]:r,!n(e[a],a,e))return!1;return!0},h.some=h.any=function(e,n,t){if(null==e)return!1;n=h.iteratee(n,t);var r,a,o=e.length!==+e.length&&h.keys(e),s=(o||e).length;for(r=0;s>r;r++)if(a=o?o[r]:r,n(e[a],a,e))return!0;return!1},h.contains=h.include=function(e,n){return null==e?!1:(e.length!==+e.length&&(e=h.values(e)),h.indexOf(e,n)>=0)},h.invoke=function(e,n){var t=s.call(arguments,2),r=h.isFunction(n);return h.map(e,function(e){return(r?n:e[n]).apply(e,t)})},h.pluck=function(e,n){return h.map(e,h.property(n))},h.where=function(e,n){return h.filter(e,h.matches(n))},h.findWhere=function(e,n){return h.find(e,h.matches(n))},h.max=function(e,n,t){var r,a,o=-(1/0),s=-(1/0);if(null==n&&null!=e){e=e.length===+e.length?e:h.values(e);for(var i=0,c=e.length;c>i;i++)r=e[i],r>o&&(o=r)}else n=h.iteratee(n,t),h.each(e,function(e,t,r){a=n(e,t,r),(a>s||a===-(1/0)&&o===-(1/0))&&(o=e,s=a)});return o},h.min=function(e,n,t){var r,a,o=1/0,s=1/0;if(null==n&&null!=e){e=e.length===+e.length?e:h.values(e);for(var i=0,c=e.length;c>i;i++)r=e[i],o>r&&(o=r)}else n=h.iteratee(n,t),h.each(e,function(e,t,r){a=n(e,t,r),(s>a||a===1/0&&o===1/0)&&(o=e,s=a)});return o},h.shuffle=function(e){for(var n,t=e&&e.length===+e.length?e:h.values(e),r=t.length,a=Array(r),o=0;r>o;o++)n=h.random(0,o),n!==o&&(a[o]=a[n]),a[n]=t[o];return a},h.sample=function(e,n,t){return null==n||t?(e.length!==+e.length&&(e=h.values(e)),e[h.random(e.length-1)]):h.shuffle(e).slice(0,Math.max(0,n))},h.sortBy=function(e,n,t){return n=h.iteratee(n,t),h.pluck(h.map(e,function(e,t,r){return{value:e,index:t,criteria:n(e,t,r)}}).sort(function(e,n){var t=e.criteria,r=n.criteria;if(t!==r){if(t>r||void 0===t)return 1;if(r>t||void 0===r)return-1}return e.index-n.index}),"value")};var v=function(e){return function(n,t,r){var a={};return t=h.iteratee(t,r),h.each(n,function(r,o){var s=t(r,o,n);e(a,r,s)}),a}};h.groupBy=v(function(e,n,t){h.has(e,t)?e[t].push(n):e[t]=[n]}),h.indexBy=v(function(e,n,t){e[t]=n}),h.countBy=v(function(e,n,t){h.has(e,t)?e[t]++:e[t]=1}),h.sortedIndex=function(e,n,t,r){t=h.iteratee(t,r,1);for(var a=t(n),o=0,s=e.length;s>o;){var i=o+s>>>1;t(e[i])<a?o=i+1:s=i}return o},h.toArray=function(e){return e?h.isArray(e)?s.call(e):e.length===+e.length?h.map(e,h.identity):h.values(e):[]},h.size=function(e){return null==e?0:e.length===+e.length?e.length:h.keys(e).length},h.partition=function(e,n,t){n=h.iteratee(n,t);var r=[],a=[];return h.each(e,function(e,t,o){(n(e,t,o)?r:a).push(e)}),[r,a]},h.first=h.head=h.take=function(e,n,t){return null==e?void 0:null==n||t?e[0]:h.initial(e,e.length-n)},h.initial=function(e,n,t){return s.call(e,0,Math.max(0,e.length-(null==n||t?1:n)))},h.last=function(e,n,t){return null==e?void 0:null==n||t?e[e.length-1]:h.rest(e,Math.max(0,e.length-n))},h.rest=h.tail=h.drop=function(e,n,t){return s.call(e,null==n||t?1:n)},h.compact=function(e){return h.filter(e,h.identity)};var m=function(e,n,t,r){if(n&&h.every(e,h.isArray))return i.apply(r,e);for(var a=0,s=e.length;s>a;a++){var c=e[a];h.isArray(c)||h.isArguments(c)?n?o.apply(r,c):m(c,n,t,r):t||r.push(c)}return r};h.flatten=function(e,n){return m(e,n,!1,[])},h.without=function(e){return h.difference(e,s.call(arguments,1))},h.uniq=h.unique=function(e,n,t,r){if(null==e)return[];h.isBoolean(n)||(r=t,t=n,n=!1),null!=t&&(t=h.iteratee(t,r));for(var a=[],o=[],s=0,i=e.length;i>s;s++){var c=e[s];if(n)s&&o===c||a.push(c),o=c;else if(t){var l=t(c,s,e);h.indexOf(o,l)<0&&(o.push(l),a.push(c))}else h.indexOf(a,c)<0&&a.push(c)}return a},h.union=function(){return h.uniq(m(arguments,!0,!0,[]))},h.intersection=function(e){if(null==e)return[];for(var n=[],t=arguments.length,r=0,a=e.length;a>r;r++){var o=e[r];if(!h.contains(n,o)){for(var s=1;t>s&&h.contains(arguments[s],o);s++);s===t&&n.push(o)}}return n},h.difference=function(e){var n=m(s.call(arguments,1),!0,!0,[]);return h.filter(e,function(e){return!h.contains(n,e)})},h.zip=function(e){if(null==e)return[];for(var n=h.max(arguments,"length").length,t=Array(n);n-->0;)t[n]=h.pluck(arguments,n);return t},h.unzip=function(e){return h.zip.apply(null,e)},h.object=function(e,n){if(null==e)return{};for(var t={},r=0,a=e.length;a>r;r++)n?t[e[r]]=n[r]:t[e[r][0]]=e[r][1];return t},h.indexOf=function(e,n,t){if(null==e)return-1;var r=0,a=e.length;if(t){if("number"!=typeof t)return r=h.sortedIndex(e,n),e[r]===n?r:-1;r=0>t?Math.max(0,a+t):t}for(;a>r;r++)if(e[r]===n)return r;return-1},h.lastIndexOf=function(e,n,t){if(null==e)return-1;var r=e.length;for("number"==typeof t&&(r=0>t?r+t+1:Math.min(r,t+1));--r>=0;)if(e[r]===n)return r;return-1},h.range=function(e,n,t){arguments.length<=1&&(n=e||0,e=0),t=t||1;for(var r=Math.max(Math.ceil((n-e)/t),0),a=Array(r),o=0;r>o;o++,e+=t)a[o]=e;return a};var y=function(){};h.bind=function(e,n){var t,r;if(p&&e.bind===p)return p.apply(e,s.call(arguments,1));if(!h.isFunction(e))throw new TypeError("Bind must be called on a function");return t=s.call(arguments,2),r=function(){if(!(this instanceof r))return e.apply(n,t.concat(s.call(arguments)));y.prototype=e.prototype;var a=new y;y.prototype=null;var o=e.apply(a,t.concat(s.call(arguments)));return h.isObject(o)?o:a}},h.partial=function(e){var n=s.call(arguments,1);return function(){for(var t=0,r=n.slice(),a=0,o=r.length;o>a;a++)r[a]===h&&(r[a]=arguments[t++]);for(;t<arguments.length;)r.push(arguments[t++]);return e.apply(this,r)}},h.bindAll=function(e){var n,t,r=arguments.length;if(1>=r)throw new Error("bindAll must be passed function names");for(n=1;r>n;n++)t=arguments[n],e[t]=h.bind(e[t],e);return e},h.memoize=function(e,n){var t=function(r){var a=t.cache,o=""+(n?n.apply(this,arguments):r);return h.has(a,o)||(a[o]=e.apply(this,arguments)),a[o]};return t.cache={},t},h.delay=function(e,n){var t=s.call(arguments,2);return setTimeout(function(){return e.apply(null,t)},n)},h.defer=function(e){return h.delay.apply(h,[e,1].concat(s.call(arguments,1)))},h.throttle=function(e,n,t){var r,a,o,s=null,i=0;t||(t={});var c=function(){i=t.leading===!1?0:h.now(),s=null,o=e.apply(r,a),s||(r=a=null)};return function(){var l=h.now();i||t.leading!==!1||(i=l);var u=n-(l-i);return r=this,a=arguments,0>=u||u>n?(s&&(clearTimeout(s),s=null),i=l,o=e.apply(r,a),s||(r=a=null)):s||t.trailing===!1||(s=setTimeout(c,u)),o}},h.debounce=function(e,n,t){var r,a,o,s,i,c=function(){var l=h.now()-s;n>l&&l>=0?r=setTimeout(c,n-l):(r=null,t||(i=e.apply(o,a),r||(o=a=null)))};return function(){o=this,a=arguments,s=h.now();var l=t&&!r;return r||(r=setTimeout(c,n)),l&&(i=e.apply(o,a),o=a=null),i}},h.wrap=function(e,n){return h.partial(n,e)},h.negate=function(e){return function(){return!e.apply(this,arguments)}},h.compose=function(){var e=arguments,n=e.length-1;return function(){for(var t=n,r=e[n].apply(this,arguments);t--;)r=e[t].call(this,r);return r}},h.after=function(e,n){return function(){return--e<1?n.apply(this,arguments):void 0}},h.before=function(e,n){var t;return function(){return--e>0?t=n.apply(this,arguments):n=null,t}},h.once=h.partial(h.before,2);var b=!{toString:null}.propertyIsEnumerable("toString"),w=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];h.keys=function(e){if(!h.isObject(e))return[];if(d)return d(e);var n=[];for(var t in e)h.has(e,t)&&n.push(t);if(b)for(var r=w.length;r--;){var a=w[r];h.has(e,a)&&!h.contains(n,a)&&n.push(a)}return n},h.values=function(e){for(var n=h.keys(e),t=n.length,r=Array(t),a=0;t>a;a++)r[a]=e[n[a]];return r},h.pairs=function(e){for(var n=h.keys(e),t=n.length,r=Array(t),a=0;t>a;a++)r[a]=[n[a],e[n[a]]];return r},h.invert=function(e){for(var n={},t=h.keys(e),r=0,a=t.length;a>r;r++)n[e[t[r]]]=t[r];return n},h.functions=h.methods=function(e){var n=[];for(var t in e)h.isFunction(e[t])&&n.push(t);return n.sort()},h.extend=function(e){if(!h.isObject(e))return e;for(var n,t,r=1,a=arguments.length;a>r;r++){n=arguments[r];for(t in n)e[t]=n[t]}return e},h.pick=function(e,n,t){var r,a={};if(null==e)return a;if(h.isFunction(n)){n=f(n,t);for(r in e){var o=e[r];n(o,r,e)&&(a[r]=o)}}else{var c=i.apply([],s.call(arguments,1));e=new Object(e);for(var l=0,u=c.length;u>l;l++)r=c[l],r in e&&(a[r]=e[r])}return a},h.omit=function(e,n,t){if(h.isFunction(n))n=h.negate(n);else{var r=h.map(i.apply([],s.call(arguments,1)),String);n=function(e,n){return!h.contains(r,n)}}return h.pick(e,n,t)},h.defaults=function(e){if(!h.isObject(e))return e;for(var n=1,t=arguments.length;t>n;n++){var r=arguments[n];for(var a in r)void 0===e[a]&&(e[a]=r[a])}return e},h.clone=function(e){return h.isObject(e)?h.isArray(e)?e.slice():h.extend({},e):e},h.tap=function(e,n){return n(e),e};var k=function(e,n,t,r){if(e===n)return 0!==e||1/e===1/n;if(null==e||null==n)return e===n;e instanceof h&&(e=e._wrapped),n instanceof h&&(n=n._wrapped);var a=c.call(e);if(a!==c.call(n))return!1;switch(a){case"[object RegExp]":case"[object String]":return""+e==""+n;case"[object Number]":return+e!==+e?+n!==+n:0===+e?1/+e===1/n:+e===+n;case"[object Date]":case"[object Boolean]":return+e===+n}var o="[object Array]"===a;if(!o){if("object"!=typeof e||"object"!=typeof n)return!1;var s=e.constructor,i=n.constructor;if(s!==i&&!(h.isFunction(s)&&s instanceof s&&h.isFunction(i)&&i instanceof i)&&"constructor"in e&&"constructor"in n)return!1}for(var l=t.length;l--;)if(t[l]===e)return r[l]===n;t.push(e),r.push(n);var u,d;if(o){if(u=e.length,d=u===n.length)for(;u--&&(d=k(e[u],n[u],t,r)););}else{var p,f=h.keys(e);if(u=f.length,d=h.keys(n).length===u)for(;u--&&(p=f[u],d=h.has(n,p)&&k(e[p],n[p],t,r)););}return t.pop(),r.pop(),d};h.isEqual=function(e,n){return k(e,n,[],[])},h.isEmpty=function(e){if(null==e)return!0;if(h.isArray(e)||h.isString(e)||h.isArguments(e))return 0===e.length;for(var n in e)if(h.has(e,n))return!1;return!0},h.isElement=function(e){return!(!e||1!==e.nodeType)},h.isArray=u||function(e){return"[object Array]"===c.call(e)},h.isObject=function(e){var n=typeof e;return"function"===n||"object"===n&&!!e},h.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(e){h["is"+e]=function(n){return c.call(n)==="[object "+e+"]"}}),h.isArguments(arguments)||(h.isArguments=function(e){return h.has(e,"callee")}),"function"!=typeof/./&&(h.isFunction=function(e){return"function"==typeof e||!1}),h.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},h.isNaN=function(e){return h.isNumber(e)&&e!==+e},h.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"===c.call(e)},h.isNull=function(e){return null===e},h.isUndefined=function(e){return void 0===e},h.has=function(e,n){return null!=e&&l.call(e,n)},h.noConflict=function(){return e._=n,this},h.identity=function(e){return e},h.constant=function(e){return function(){return e}},h.noop=function(){},h.property=function(e){return function(n){return null==n?void 0:n[e]}},h.matches=function(e){var n=h.pairs(e),t=n.length;return function(e){if(null==e)return!t;e=new Object(e);for(var r=0;t>r;r++){var a=n[r],o=a[0];if(a[1]!==e[o]||!(o in e))return!1}return!0}},h.times=function(e,n,t){var r=Array(Math.max(0,e));n=f(n,t,1);for(var a=0;e>a;a++)r[a]=n(a);return r},h.random=function(e,n){return null==n&&(n=e,e=0),e+Math.floor(Math.random()*(n-e+1))},h.now=Date.now||function(){return(new Date).getTime()};var x={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},S=h.invert(x),$=function(e){var n=function(n){return e[n]},t="(?:"+h.keys(e).join("|")+")",r=RegExp(t),a=RegExp(t,"g");return function(e){return e=null==e?"":""+e,r.test(e)?e.replace(a,n):e}};h.escape=$(x),h.unescape=$(S),h.result=function(e,n,t){var r=null==e?void 0:e[n];return void 0===r?t:h.isFunction(r)?e[n]():r};var T=0;h.uniqueId=function(e){var n=++T+"";return e?e+n:n},h.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var E=/(.)^/,_={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},R=/\\|'|\r|\n|\u2028|\u2029/g,C=function(e){return"\\"+_[e]};h.template=function(e,n,t){!n&&t&&(n=t),n=h.defaults({},n,h.templateSettings);var r=RegExp([(n.escape||E).source,(n.interpolate||E).source,(n.evaluate||E).source].join("|")+"|$","g"),a=0,o="__p+='";e.replace(r,function(n,t,r,s,i){return o+=e.slice(a,i).replace(R,C),a=i+n.length,t?o+="'+\n((__t=("+t+"))==null?'':_.escape(__t))+\n'":r?o+="'+\n((__t=("+r+"))==null?'':__t)+\n'":s&&(o+="';\n"+s+"\n__p+='"),n}),o+="';\n",n.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var s=new Function(n.variable||"obj","_",o)}catch(i){throw i.source=o,i}var c=function(e){return s.call(this,e,h)},l=n.variable||"obj";return c.source="function("+l+"){\n"+o+"}",c},h.chain=function(e){var n=h(e);return n._chain=!0,n};var j=function(e,n){return e._chain?h(n).chain():n};h.mixin=function(e){h.each(h.functions(e),function(n){var t=h[n]=e[n];h.prototype[n]=function(){var e=[this._wrapped];return o.apply(e,arguments),j(this,t.apply(h,e))}})},h.mixin(h),h.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var n=t[e];h.prototype[e]=function(){var t=this._wrapped;return n.apply(t,arguments),"shift"!==e&&"splice"!==e||0!==t.length||delete t[0],j(this,t)}}),h.each(["concat","join","slice"],function(e){var n=t[e];h.prototype[e]=function(){return j(this,n.apply(this._wrapped,arguments))}}),h.prototype.value=function(){return this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return h})}.call(this),document.addEventListener("DOMContentLoaded",function(e){var n=document.getElementsByTagName("head")[0],t=document.createElement("link");t.rel="stylesheet",t.type="text/css",t.href="public/css/all.css",n.appendChild(t)}),"undefined"==typeof window.jQuery&&document.write(unescape("%3Cscript src='appDev/vendor/jquery.min.js' type='text/javascript'%3E%3C/script%3E")),"undefined"==typeof window.jQuery.effect&&document.write(unescape("%3Cscript src='appDev/vendor/jquery-ui.min.js' type='text/javascript'%3E%3C/script%3E")),"undefined"==typeof window.angular&&document.write(unescape("%3Cscript src='appDev/vendor/angular.min.js' type='text/javascript'%3E%3C/script%3E")),window.location.toString().indexOf("vk.com")+1&&document.write(unescape("%3Cscript src='//vk.com/js/api/xd_connection.js?2' type='text/javascript'%3E%3C/script%3E")),window.VK&&VK.init(function(){var e,n=document.location.search.substr(1).split("&"),t={};for(i=0;i<n.length;i++)e=n[i].split("="),t[e[0]]=e[1];window.vkid=t.viewer_id,window.language=t.language,window.is_app_user=t.is_app_user}),window.VK){var height=document.getElementById("tab-control").offsetHeight;setInterval(function(){height!==document.getElementById("tab-control").offsetHeight&&(height=document.getElementById("tab-control").offsetHeight,VK.callMethod("resizeWindow",1e3,height))},40)}angular.module("ngLocale",[],["$provide",function(e){function n(e){e+="";var n=e.indexOf(".");return-1==n?0:e.length-n-1}function t(e,t){var r=t;void 0===r&&(r=Math.min(n(e),3));var a=Math.pow(10,r),o=(e*a|0)%a;return{v:r,f:o}}var r={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};e.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["воскресенье","понедельник","вторник","среда","четверг","пятница","суббота"],MONTH:["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"],SHORTDAY:["вс","пн","вт","ср","чт","пт","сб"],SHORTMONTH:["янв.","февр.","марта","апр.","мая","июня","июля","авг.","сент.","окт.","нояб.","дек."],fullDate:"EEEE, d MMMM y 'г'.",longDate:"d MMMM y 'г'.",medium:"d MMM y 'г'. H:mm:ss",mediumDate:"d MMM y 'г'.",mediumTime:"H:mm:ss","short":"dd.MM.yy H:mm",shortDate:"dd.MM.yy",shortTime:"H:mm"},NUMBER_FORMATS:{CURRENCY_SYM:"руб.",DECIMAL_SEP:",",GROUP_SEP:" ",PATTERNS:[{gSize:3,lgSize:3,macFrac:0,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,macFrac:0,maxFrac:2,minFrac:2,minInt:1,negPre:"-",negSuf:" ¤",posPre:"",posSuf:" ¤"}]},id:"ru-ru",pluralCat:function(e,n){var a=0|e,o=t(e,n);return 0==o.v&&a%10==1&&a%100!=11?r.ONE:0==o.v&&a%10>=2&&4>=a%10&&(12>a%100||a%100>14)?r.FEW:0==o.v&&a%10==0||0==o.v&&a%10>=5&&9>=a%10||0==o.v&&a%100>=11&&14>=a%100?r.MANY:r.OTHER}})}]),function(e,n,t){"use strict";function r(){function e(e,t){return n.extend(new(n.extend(function(){},{prototype:e})),t)}function t(e,n){var t=n.caseInsensitiveMatch,r={originalPath:e,regexp:e},a=r.keys=[];return e=e.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)([\?\*])?/g,function(e,n,t,r){var o="?"===r?r:null,s="*"===r?r:null;return a.push({name:t,optional:!!o}),n=n||"",""+(o?"":n)+"(?:"+(o?n:"")+(s&&"(.+?)"||"([^/]+)")+(o||"")+")"+(o||"")}).replace(/([\/$\*])/g,"\\$1"),r.regexp=new RegExp("^"+e+"$",t?"i":""),r}var r={};this.when=function(e,a){if(r[e]=n.extend({reloadOnSearch:!0},a,e&&t(e,a)),e){var o="/"==e[e.length-1]?e.substr(0,e.length-1):e+"/";r[o]=n.extend({redirectTo:e},t(o,a))}return this},this.otherwise=function(e){return this.when(null,e),this},this.$get=["$rootScope","$location","$routeParams","$q","$injector","$http","$templateCache","$sce",function(t,a,o,s,i,c,l,u){function d(e,n){var t=n.keys,r={};if(!n.regexp)return null;var a=n.regexp.exec(e);if(!a)return null;for(var o=1,s=a.length;s>o;++o){var i=t[o-1],c="string"==typeof a[o]?decodeURIComponent(a[o]):a[o];i&&c&&(r[i.name]=c)}return r}function p(){var e=h(),r=v.current;e&&r&&e.$$route===r.$$route&&n.equals(e.pathParams,r.pathParams)&&!e.reloadOnSearch&&!g?(r.params=e.params,n.copy(r.params,o),t.$broadcast("$routeUpdate",r)):(e||r)&&(g=!1,t.$broadcast("$routeChangeStart",e,r),v.current=e,e&&e.redirectTo&&(n.isString(e.redirectTo)?a.path(f(e.redirectTo,e.params)).search(e.params).replace():a.url(e.redirectTo(e.pathParams,a.path(),a.search())).replace()),s.when(e).then(function(){if(e){var t,r,a=n.extend({},e.resolve);return n.forEach(a,function(e,t){a[t]=n.isString(e)?i.get(e):i.invoke(e)}),n.isDefined(t=e.template)?n.isFunction(t)&&(t=t(e.params)):n.isDefined(r=e.templateUrl)&&(n.isFunction(r)&&(r=r(e.params)),r=u.getTrustedResourceUrl(r),n.isDefined(r)&&(e.loadedTemplateUrl=r,t=c.get(r,{cache:l}).then(function(e){return e.data}))),n.isDefined(t)&&(a.$template=t),s.all(a)}}).then(function(a){e==v.current&&(e&&(e.locals=a,n.copy(e.params,o)),t.$broadcast("$routeChangeSuccess",e,r))},function(n){e==v.current&&t.$broadcast("$routeChangeError",e,r,n)}))}function h(){var t,o;return n.forEach(r,function(r,s){!o&&(t=d(a.path(),r))&&(o=e(r,{params:n.extend({},a.search(),t),pathParams:t}),o.$$route=r)}),o||r[null]&&e(r[null],{params:{},pathParams:{}})}function f(e,t){var r=[];return n.forEach((e||"").split(":"),function(e,n){if(0===n)r.push(e);else{var a=e.match(/(\w+)(.*)/),o=a[1];r.push(t[o]),r.push(a[2]||""),delete t[o]}}),r.join("")}var g=!1,v={routes:r,reload:function(){g=!0,t.$evalAsync(p)}};return t.$on("$locationChangeSuccess",p),v}]}function a(){this.$get=function(){return{}}}function o(e,t,r){return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",link:function(a,o,s,i,c){function l(){h&&(h.remove(),h=null),d&&(d.$destroy(),d=null),p&&(r.leave(p,function(){h=null}),h=p,p=null)}function u(){var s=e.current&&e.current.locals,i=s&&s.$template;if(n.isDefined(i)){var u=a.$new(),h=e.current,v=c(u,function(e){r.enter(e,null,p||o,function(){!n.isDefined(f)||f&&!a.$eval(f)||t()}),l()});p=v,d=h.scope=u,d.$emit("$viewContentLoaded"),d.$eval(g)}else l()}var d,p,h,f=s.autoscroll,g=s.onload||"";a.$on("$routeChangeSuccess",u),u()}}}function s(e,n,t){return{restrict:"ECA",priority:-400,link:function(r,a){var o=t.current,s=o.locals;a.html(s.$template);var i=e(a.contents());if(o.controller){s.$scope=r;var c=n(o.controller,s);o.controllerAs&&(r[o.controllerAs]=c),a.data("$ngControllerController",c),a.children().data("$ngControllerController",c)}i(r)}}}var i=n.module("ngRoute",["ng"]).provider("$route",r);i.provider("$routeParams",a),i.directive("ngView",o),i.directive("ngView",s),o.$inject=["$route","$anchorScroll","$animate"],s.$inject=["$compile","$controller","$route"]}(window,window.angular),function(e,n,t){"use strict";function r(e){return null!=e&&""!==e&&"hasOwnProperty"!==e&&i.test("."+e)}function a(e,n){if(!r(n))throw s("badmember",'Dotted member path "@{0}" is invalid.',n);for(var a=n.split("."),o=0,i=a.length;i>o&&e!==t;o++){var c=a[o];e=null!==e?e[c]:t}return e}function o(e,t){t=t||{},n.forEach(t,function(e,n){delete t[n]});for(var r in e)!e.hasOwnProperty(r)||"$"===r.charAt(0)&&"$"===r.charAt(1)||(t[r]=e[r]);return t}var s=n.$$minErr("$resource"),i=/^(\.[a-zA-Z_$][0-9a-zA-Z_$]*)+$/;n.module("ngResource",["ng"]).factory("$resource",["$http","$q",function(e,r){function i(e){return c(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function c(e,n){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,n?"%20":"+")}function l(e,n){this.template=e,this.defaults=n||{},this.urlParams={}}function u(i,c,m){function y(e,n){var t={};return n=f({},c,n),h(n,function(n,r){v(n)&&(n=n()),t[r]=n&&n.charAt&&"@"==n.charAt(0)?a(e,n.substr(1)):n}),t}function b(e){return e.resource}function w(e){o(e||{},this)}var k=new l(i);return m=f({},d,m),h(m,function(a,i){var c=/^(POST|PUT|PATCH)$/i.test(a.method);w[i]=function(i,l,u,d){var m,x,S,$={};switch(arguments.length){case 4:S=d,x=u;case 3:case 2:if(!v(l)){$=i,m=l,x=u;break}if(v(i)){x=i,S=l;break}x=l,S=u;case 1:v(i)?x=i:c?m=i:$=i;break;case 0:break;default:throw s("badargs","Expected up to 4 arguments [params, data, success, error], got {0} arguments",arguments.length)}var T=this instanceof w,E=T?m:a.isArray?[]:new w(m),_={},R=a.interceptor&&a.interceptor.response||b,C=a.interceptor&&a.interceptor.responseError||t;h(a,function(e,n){"params"!=n&&"isArray"!=n&&"interceptor"!=n&&(_[n]=g(e))}),c&&(_.data=m),k.setUrlParams(_,f({},y(m,a.params||{}),$),a.url);var j=e(_).then(function(e){var t=e.data,r=E.$promise;if(t){if(n.isArray(t)!==!!a.isArray)throw s("badcfg","Error in resource configuration. Expected response to contain an {0} but got an {1}",a.isArray?"array":"object",n.isArray(t)?"array":"object");a.isArray?(E.length=0,h(t,function(e){E.push(new w(e))})):(o(t,E),E.$promise=r)}return E.$resolved=!0,e.resource=E,e},function(e){return E.$resolved=!0,(S||p)(e),r.reject(e)});return j=j.then(function(e){var n=R(e);return(x||p)(n,e.headers),n},C),T?j:(E.$promise=j,E.$resolved=!1,E)},w.prototype["$"+i]=function(e,n,t){v(e)&&(t=n,n=e,e={});var r=w[i].call(this,e,this,n,t);return r.$promise||r}}),w.bind=function(e){return u(i,f({},c,e),m)},w}var d={get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},remove:{method:"DELETE"},"delete":{method:"DELETE"}},p=n.noop,h=n.forEach,f=n.extend,g=n.copy,v=n.isFunction;return l.prototype={setUrlParams:function(e,t,r){var a,o,c=this,l=r||c.template,u=c.urlParams={};h(l.split(/\W/),function(e){if("hasOwnProperty"===e)throw s("badname","hasOwnProperty is not a valid parameter name.");!new RegExp("^\\d+$").test(e)&&e&&new RegExp("(^|[^\\\\]):"+e+"(\\W|$)").test(l)&&(u[e]=!0)}),l=l.replace(/\\:/g,":"),t=t||{},h(c.urlParams,function(e,r){a=t.hasOwnProperty(r)?t[r]:c.defaults[r],n.isDefined(a)&&null!==a?(o=i(a),l=l.replace(new RegExp(":"+r+"(\\W|$)","g"),function(e,n){return o+n})):l=l.replace(new RegExp("(/?):"+r+"(\\W|$)","g"),function(e,n,t){return"/"==t.charAt(0)?t:n+t})}),l=l.replace(/\/+$/,"")||"/",l=l.replace(/\/\.(?=\w+($|\?))/,"."),e.url=l.replace(/\/\\\./,"/."),h(t,function(n,t){c.urlParams[t]||(e.params=e.params||{},e.params[t]=n)})}},u}])}(window,window.angular),angular.module("ngCookies",["ng"]).factory("$cookies",["$rootScope","$browser",function(e,n){function t(){var e,t,r,s;for(e in o)c(a[e])&&n.cookies(e,void 0);for(e in a)t=a[e],angular.isString(t)||(t=""+t,a[e]=t),t!==o[e]&&(n.cookies(e,t),s=!0);if(s){s=!1,r=n.cookies();for(e in a)a[e]!==r[e]&&(c(r[e])?delete a[e]:a[e]=r[e],s=!0)}}var r,a={},o={},s=!1,i=angular.copy,c=angular.isUndefined;return n.addPollFn(function(){var t=n.cookies();r!=t&&(r=t,i(t,o),i(t,a),s&&e.$apply())})(),s=!0,e.$watch(t),a}]).factory("$cookieStore",["$cookies",function(e){return{get:function(n){var t=e[n];return t?angular.fromJson(t):t},put:function(n,t){e[n]=angular.toJson(t)},remove:function(n){delete e[n]}}}]);var tryHskControllers=angular.module("tryHskControllers",[]),tryHskDirectives=angular.module("tryHskDirectives",[]),tryHskServices=angular.module("tryHskServices",["ngResource"]),templates=angular.module("templates",[]),tryHsk=angular.module("tryHsk",["ngRoute","ngCookies","templates","tryHskControllers","tryHskFilters","tryHskDirectives","tryHskServices"]);angular.module("templates").run(["$templateCache",function(e){e.put("partials/checkbox/checkbox.html",'<div data-role=treeview class=treeview><ul><li class=node><span class=node-toggle></span><span class=leaf>HSK level</span><ul><li data-mode=checkbox><label class="input-control checkbox"><input type=checkbox ng-model=checkboxValues.hsk1><span class=check></span><span class=leaf>HSK 1</span></label></li><li data-mode=checkbox><label class="input-control checkbox"><input type=checkbox ng-model=checkboxValues.hsk2><span class=check></span><span class=leaf>HSK 2</span></label></li><li data-mode=checkbox><label class="input-control checkbox"><input type=checkbox ng-model=checkboxValues.hsk3><span class=check></span><span class=leaf>HSK 3</span></label></li></ul></li><li class=node><span class=node-toggle></span><span class=leaf>{{content.partOfSpeech}}</span><ul><li><label class="input-control checkbox"><input type=checkbox ng-model=checkboxValues.noun><span class=check></span><span class=leaf>{{content.noun}}</span></label></li><li><label class="input-control checkbox"><input type=checkbox ng-model=checkboxValues.pronoun><span class=check></span><span class=leaf>{{content.pronoun}}</span></label></li><li><label class="input-control checkbox"><input type=checkbox ng-model=checkboxValues.verb><span class=check></span><span class=leaf>{{content.verb}}</span></label></li><li><label class="input-control checkbox"><input type=checkbox ng-model=checkboxValues.adjective><span class=check></span><span class=leaf>{{content.adjective}}</span></label></li><li><label class="input-control checkbox"><input type=checkbox ng-model=checkboxValues.numeral><span class=check></span><span class=leaf>{{content.numeral}}</span></label></li><li><label class="input-control checkbox"><input type=checkbox ng-model=checkboxValues.otherPart><span class=check></span><span class=leaf>{{content.otherPart}}</span></label></li></ul></li><li class=node><span class=node-toggle></span><span class=leaf>{{content.theme}}</span><ul><li><label class="input-control checkbox"><input type=checkbox ng-model=checkboxValues.place><span class=check></span><span class=leaf>{{content.place}}</span></label></li><li><label class="input-control checkbox"><input type=checkbox ng-model=checkboxValues.relate><span class=check></span><span class=leaf>{{content.relate}}</span></label></li><li><label class="input-control checkbox"><input type=checkbox ng-model=checkboxValues.otherThemes><span class=check></span><span class=leaf>{{content.otherThemes}}</span></label></li></ul></li></ul></div>'),e.put("partials/info/info.html","<div id=_page_3 ng-controller=InfoController class=frame></div>"),e.put("partials/love/love.html",'<div id=_page_5 ng-controller=LoveController class="frame no-padding-top no-padding-right"><img src=https://camo.githubusercontent.com/365986a132ccd6a44c23a9169022c0b5c890c387/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f7265645f6161303030302e706e67 alt="Fork me on GitHub" data-canonical-src=https://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png class=place-right><div class="grid no-margin"><div class="row condensed no-margin"><p class="leader v-align-middle">github.com/tryhsk/tryhsk.github.com</p></div><div class="row condensed"><p class=sub-leader>{{content.baseWords}}</p></div><div class="row condensed"><p class=header>docs.google.com/spreadsheets/d/1eCcrph6foyjtuQBQxeaZF8ZyrP3EUIE8uiJf3yVISS4/edit?usp=sharing</p></div></div></div>'),e.put("partials/settings/settings.html",'<div id=_page_4 ng-controller=SettingsController class=frame><div class="input-control select"><select ng-model=selectLang ng-change=freshLanguage(selectLang)><option value=ru>Русский</option><option value=zh>汉语</option><option value=en>English</option></select></div><div class="grid fluid"><div class="row cells2"><div class=cell><div class="row condensed"><div class="input-control checkbox"><label><input type=checkbox ng-model=settings.sound><span class=check></span><span class=leaf>{{content.pronunciation}}</span></label></div></div><div class="row condensed"><div class="input-control checkbox"><label><input type=checkbox ng-model=settings.color><span class=check></span><span class=leaf>{{content.color}}</span></label></div></div><div class="row condensed"><div class="input-control checkbox"><label><input type=checkbox ng-model=settings.number><span class=check></span><span class=leaf>{{content.numberTone}}</span></label></div></div><div class="row condensed"><div class="input-control checkbox"><label><input type=checkbox ng-model=settings.letter><span class=check></span><span class=leaf>{{content.score}}</span></label></div></div></div><div class=cell><div class=pinyin><span style="font-size: xx-large; color:{{tone.color}}" ng-repeat="tone in example"><span ng-hide=settings.letter>{{tone.pinyin}}</span><span ng-show=settings.letter>{{tone.transpinyin}}</span><span ng-show=settings.number>{{tone.number}}</span></span></div></div></div></div></div>'),e.put("partials/summary/summary.html",'<div id=_page_2 ng-controller=SummaryController class="frame frame no-padding"><div class="searchSummary padding10">{{content.search}}:<input ng-model=query><ng-pluralize ng-show="content.code === \'ru\'" count=words.length when="{\'0\': \'Ничего не выбрано\', \'one\': \'Выбрано {} слово\', \'few\': \'Выбрано {} слово\', \'many\': \'Выбрано {} слов\'}" class=padding10></ng-pluralize><ng-pluralize ng-show="content.code === \'en\'" count=words.length when="{\'0\': \'None selected\', \'many\': \'Joined word {}\'}" class=padding10></ng-pluralize><ng-pluralize ng-show="content.code === \'zh\'" count=words.length when="{\'0\': \'None selected\', \'many\': \'Joined word {} zh\'}" class=padding10></ng-pluralize></div><div class="grid margin20"><div class="row cells12"><div class="cell colspan3"><div ng-include="\'partials/checkbox/checkbox.html\'"></div></div><div id=table class="cell colspan9 tableContainer"><div ng-show=summaryLoader class=summaryLoader><div class=spinner><div class=rect1></div><div class=rect2></div><div class=rect3></div><div class=rect4></div><div class=rect5></div></div></div><table class=table><thead><div class="row cells4"><div class="text-left cell"><a ng-click="predicate = \'id\'; reverse=false">{{content.char}}</a>(<a ng-click="predicate = \'-id\'; reverse=false">^</a>)</div><div class="text-left cell"><a ng-click="predicate = \'s\'; reverse=!reverse">{{content.pinyin}}</a></div><div class="text-left cell"><a ng-click="predicate = \'russian\'; reverse=!reverse">{{content.translate}}</a></div><div style="display: none" class="text-left cell"><a ng-click="predicate = \'english\'; reverse=!reverse">{{content.eng}}</a></div></div></thead><tbody class=scrollContent><div class=zoneSummary><div ng-repeat="word in words | filter:query | orderBy:predicate:reverse" class="row cells12"><div class="char char_big cell colspan3">{{word.id}} {{word.char}}</div><div class="pinyin cell colspan3"><span style=color:{{tone.colorStyle}} ng-repeat="tone in word.pinyin"><span ng-show=!settings.letter>{{tone.pinyin}}</span><span ng-show=settings.letter>{{tone.transpinyin}}</span><span ng-show=settings.number>{{tone.number}}</span></span></div><div class="russian cell colspan6">{{word.russian}}</div></div></div></tbody></table></div></div></div></div>'),
e.put("partials/test/test.html","<div id=_page_1 ng-controller=TestController class=\"frame no-padding\"><div class=grid><div class=\"row cells12\"><div class=\"cell colspan3\"><div class=\"row condensed\"><div class=\"margin10 label\"><div class=\"input-control select\"><select ng-model=select><option value=char-trans ng-bind=\"content['char-trans']\"></option><option value=trans-char ng-bind=\"content['trans-char']\"></option><option value=pron-char ng-bind=\"content['pron-char']\"></option><option value=pron-trans ng-bind=\"content['pron-trans']\"></option></select></div></div></div><div class=\"row condensed\"><div id=sound></div><button ng-show=nextShow ng-click=nextWord() ng-bind=content.next class=\"button margin10 info\"></button><button ng-show=nextRefresh ng-click=nextWord() class=\"button margin10 warning\">{{content.refresh}}<span class=\"mif-loop2 align-right\"></span></button></div><div class=\"row condensed\"><output id=value></output><ng-pluralize ng-show=\"content.code === 'ru'\" count=words.length when=\"{'0': 'Ничего не выбрано', '1': 'Слишком мало слов. Выбрано {} слово', '2': 'Слишком мало слов. Выбрано {} слова', '3': 'Слишком мало слов. Выбрано {} слова', '4': 'Слишком мало слов. Выбрано {} слова', '5': 'Слишком мало слов. Выбрано {} слов', '6': 'Слишком мало слов. Выбрано {} слов', '7': 'Слишком мало слов. Выбрано {} слов', '8': 'Слишком мало слов. Выбрано {} слов', '9': 'Слишком мало слов. Выбрано {} слов', 'one': 'Выбрано {} слово', 'few': 'Выбрано {} слово', 'many': 'Выбрано {} слов'}\" class=margin10></ng-pluralize><ng-pluralize ng-show=\"content.code === 'en'\" count=words.length when=\"{'0': 'None selected', '1': 'Too few words. Joined {} words', '2': 'Too few words. Joined {} words', '3': 'Too few words. Joined {} words', '4': 'Too few words. Joined {} words', '5': 'Too few words. Joined {} words', '6': 'Too few words. Joined {} words', '7': 'Too few words. Joined {} words', '8': 'Too few words. Joined {} words', '9': 'Too few words. Joined {} words', 'one': 'Chosen one word', 'many': 'Joined word {}'}\" class=margin10></ng-pluralize><ng-pluralize ng-show=\"content.code === 'zh'\" count=words.length when=\"{'0': 'None selected', '1': 'Too few words. Joined {} words', '2': 'Too few words. Joined {} words', '3': 'Too few words. Joined {} words', '4': 'Too few words. Joined {} words', '5': 'Too few words. Joined {} words', '6': 'Too few words. Joined {} words', '7': 'Too few words. Joined {} words', '8': 'Too few words. Joined {} words', '9': 'Too few words. Joined {} words', 'one': 'Chosen one word', 'many': 'Joined word {} zh'}\" class=margin10></ng-pluralize></div><div class=\"row condensed\"><h1 ng-show=answer ng-bind=currentRights class=\"margin10 align-center\"></h1></div></div><div class=\"cell colspan6\"><div class=\"row condensed\"><center><button ng-show=\"soundCharRegime || soundTranslateRegime\" ng-click=playSound() class=\"shortcut link buttonSound\"><i class=mif-volume-medium></i></button><button ng-show=charRegime ng-style=questionStyle ng-click=playSound() class=\"shortcut link font60\">{{char}}</button><div ng-show=translateRegime class=\"russian-char font20\">{{russian}}</div></center></div><div class=\"row condensed\"><div id=accordion data-role=accordion data-closeany-any=true class=\"accordion place-center test\"><div ng-repeat=\"wordsTest in wordsTests\" class=\"frame no-padding\"><a href=# ng-click=isRight(wordsTest.ansv) ng-style=variantStyle class=heading>{{wordsTest.main}}</a><div class=\"content no-margin\"><div ng-show=\"charRegime || soundCharRegime\" class=\"row cells6 no-margin\"><audio ngsrc={{wordsTest.sound}}></audio><div class=\"cell colspan2\"><h2>{{wordsTest.char}}</h2></div><div class=\"cell colspan3\"><h2><span style=color:{{tone.color}} ng-repeat=\"tone in wordsTest.pinyin\"><span ng-hide=settings.letter>{{tone.pinyin}}</span><span ng-show=settings.letter>{{tone.transpinyin}}</span><span ng-show=settings.number>{{tone.number}}</span></span></h2></div></div><div ng-show=\"translateRegime || soundTranslateRegime\" class=\"row condensed no-margin\"><h4>{{wordsTest.russian}}</h4></div><div class=\"row condensed no-margin\"><button ng-class=wordsTest.ansver ng-click=nextWord() class=button>{{wordsTest.button}}</button></div></div></div></div></div></div><div class=\"cell colspan3\"><div ng-include=\"'partials/checkbox/checkbox.html'\"></div></div></div></div></div>")}]),tryHskServices.service("checkboxValues",["$cookies","$rootScope",function(e,n){this.initCheckboxValues=function(){n.checkboxValues=void 0===e.checkboxValues?{hsk1:!0,hsk2:!0,hsk3:!0,verb:!0,numeral:!0,adjective:!0,pronoun:!0,place:!0,relate:!0,noun:!0,otherPart:!0,otherThemes:!0}:JSON.parse(e.checkboxValues)},this.refreshCheckboxValues=function(){e.checkboxValues=JSON.stringify(n.checkboxValues)}}]),tryHskServices.service("settings",["$cookies","$rootScope",function(e,n){this.initSettings=function(){n.settings=void 0===e.settings?{sound:!0,color:!1,letter:!0,number:!1}:JSON.parse(e.settings)},this.refreshSettings=function(){e.settings=JSON.stringify(n.settings)}}]),tryHskServices.service("language",["$cookies","$rootScope",function(e,n){this.getLanguage=function(e){switch(e){case"ru":n.content={code:"ru",test:"ТЕСТ",summary:"СЛОВАРЬ",search:"Поиск",select:"Выберите язык","char":"Иероглиф",pinyin:"Пиньинь",translate:"Перевод",eng:"Английский",pronunciation:"Произношение",color:"Расскаска слогов по тонам",numberTone:"Цифры тонов",score:"Подчёркивания",partOfSpeech:"часть речи",noun:"существительные",pronoun:"числительные",verb:"глаголы",adjective:"прилагательные",numeral:"счётное слово",otherPart:"другие",theme:"Тематические",place:"Место",relate:"Отношения",otherThemes:"другие",baseWords:"База слов в формате google Docs",next:"СЛЕДУЮЩИЙ",refresh:"ОБНОВИТЬ",success:"Молодец!",fail:"Всё получится!","char-trans":"иероглиф - перевод","trans-char":"перевод - иероглиф","pron-char":"произношение - перевод","pron-trans":"произношение - иероглиф",pluralizeTest:"{'0': 'Ничего не выбрано',						'1': 'Слишком мало слов. Выбрано {} слово',						'2': 'Слишком мало слов. Выбрано {} слова',						'3': 'Слишком мало слов. Выбрано {} слова',						'4': 'Слишком мало слов. Выбрано {} слова',						'5': 'Слишком мало слов. Выбрано {} слов',						'6': 'Слишком мало слов. Выбрано {} слов',						'7': 'Слишком мало слов. Выбрано {} слов',						'8': 'Слишком мало слов. Выбрано {} слов',						'9': 'Слишком мало слов. Выбрано {} слов',						'one': 'Выбрано {} слово',						'few': 'Выбрано {} слово',						'many': 'Выбрано {} слов'}",pluralizeSummary:"{'0': 'Ничего не выбрано',						'one': 'Выбрано {} слово',						'few': 'Выбрано {} слово',						'many': 'Выбрано {} слов'}"};break;case"zh":n.content={code:"zh",test:"__ТЕСТ__",summary:"__СЛОВАРЬ__",search:"搜索",select:"选择语言","char":"字",pinyin:"拼音",translate:"俄语",eng:"英语",pronunciation:"拼音",color:"拼音",numberTone:"拼音",score:"拼音",partOfSpeech:"拼音",noun:"拼音",pronoun:"拼音",verb:"拼音",adjective:"拼音",numeral:"拼音",otherPart:"拼音",theme:"拼音",place:"拼音",relate:"拼音",otherThemes:"拼音",baseWords:"База слов в формате google Docs",next:"NEXT",refresh:"refresh",success:"success!",fail:"fail","char-trans":"character - translation","trans-char":"translation - character","pron-char":"pronunciation - character","pron-trans":"pronunciation - translation"};break;default:n.content={code:"en",test:"TEST",summary:"SUMMARY",search:"Search",select:"Choose language","char":"Hieroglyph",pinyin:"Pinyin",translate:"Russian",eng:"English",pronunciation:"pronunciation",color:"color",numberTone:"number of tone",score:"score",partOfSpeech:"part of speech",noun:"noun",pronoun:"pronoun",verb:"verb",adjective:"adjective",numeral:"numeral",otherPart:"other part",theme:"theme",place:"place",relate:"relate",otherThemes:"other themes",baseWords:"Base words in google Docs format",next:"NEXT",refresh:"refresh",success:"success!",fail:"fail","char-trans":"character - translation","trans-char":"translation - character","pron-char":"pronunciation - character","pron-trans":"pronunciation - translation",pluralizeSummary:"{'0': '######',						'one': 'Выбрано {} слово',						'few': 'Выбрано {} слово',						'many': 'Выбрано {} слов'}"}}},this.initLanguage=function(){return void 0===e.language?"ru":JSON.parse(e.language).selectLanguage},this.refreshSelectlanguage=function(n){var t={selectLanguage:n};this.getLanguage(n),e.language=JSON.stringify(t)}}]),tryHskServices.service("score",[function(){this.answered=!1,this.count=0,this.isRight=function(e){!this.answered&&e&&(this.count=this.count?++this.count:1),this.answered=!0}}]),tryHskServices.factory("StateManager",["$rootScope",function(e){var n=[];return{add:function(t){n.push(t),e.globalLoader=!0},remove:function(t){n=_.without(n,t),0===n.length&&(e.globalLoader=!1)},getByName:function(e){return _.include(n,e)},clear:function(){return n.length=0,!0}}}]),tryHskServices.factory("SummaryStateManager",["$rootScope",function(e){var n=[];return{add:function(t){n.push(t),e.summaryLoader=!0},remove:function(t){n=_.without(n,t),0===n.length&&(e.summaryLoader=!1)},getByName:function(e){return _.include(n,e)},clear:function(){return n.length=0,!0}}}]),tryHskServices.factory("Word",["$resource",function(e){return e("words_.json",{},{query:{method:"GET",isArray:!0,cash:!0}})}]),tryHskServices.service("prepareWords",["Word","pinyin",function(e,n){this.getWords=function(){return e.query().$promise.then(function(e){for(var t,r=[],a=e.length,o=0;a>o;o++)t={},t["char"]=e[o].c,t.pinyin=n.processingOfPinyin(e[o].p),t.russian=e[o].r,t.sound="http://china-standart.ru/"+e[o].s,t.mask=parseInt(e[o].i,2),t.id=o,r.push(t);return r})}}]),tryHskServices.service("sortWords",["$q","prepareWords","$rootScope","checkboxValues",function(e,n,t,r){this.words=[],this.loaded=!1,this.getSortWords=function(){var a,o=this;return this.loaded||r.initCheckboxValues(),t.$watch("checkboxValues",function(e,n){e!==n&&(o.getSortWords(),r.refreshCheckboxValues())},!0),this.loaded?(a=e.defer(),a.resolve(o.sortWords(o.words)),a.promise):(this.loaded=!0,n.getWords().then(function(e){return o.sortWords(e)}))},this.sortWords=function(e){function n(e){for(var n=[],r=e.length,a=0;r>a;a++)t.checkboxValues.hsk3&&4&e[a].mask?n.push(a):t.checkboxValues.hsk1&&1&e[a].mask?n.push(a):t.checkboxValues.hsk2&&2&e[a].mask&&n.push(a);return n}function r(n){for(var r=[],a=n.length,o=0;a>o;o++)t.checkboxValues.noun&&8&e[n[o]].mask?r.push(n[o]):t.checkboxValues.verb&&16&e[n[o]].mask?r.push(n[o]):t.checkboxValues.adjective&&32&e[n[o]].mask?r.push(n[o]):t.checkboxValues.numeral&&64&e[n[o]].mask?r.push(n[o]):t.checkboxValues.pronoun&&128&e[n[o]].mask?r.push(n[o]):!t.checkboxValues.otherPart||248&e[n[o]].mask||r.push(n[o]);return r}function a(n){for(var r=[],a=n.length,o=0;a>o;o++)t.checkboxValues.place&&256&e[n[o]].mask?r.push(n[o]):t.checkboxValues.relate&&512&e[n[o]].mask?r.push(n[o]):!t.checkboxValues.otherThemes||768&e[n[o]].mask||r.push(n[o]);return r}function o(n){for(var t=[],r=0;r<n.length;r++)t.push(e[n[r]]);return t}return this.words=e,t.words=o(a(r(n(e)))),t.words}}]),tryHskServices.service("pinyin",[function(){this.processingOfPinyin=function(e){var n,t,r=[],a={},o=[];n=e.split(/\d/),n.length>1&&n.pop(),t=e.split(/[^0-9]/);for(var s=0;s<t.length;s++)t[s]&&r.push(t[s]);0==r.length&&(r=["ERROR"]);for(var i=0;i<n.length;i++){switch(a={},r[i]){case"1":a={number:"1",color:"blue"};break;case"2":a={number:"2",color:"orange"};break;case"3":a={number:"3",color:"green"};break;case"4":a={number:"4",color:"red"};break;case"0":a={number:"5",color:"gray"};break;default:a={number:"ERROR",color:"black"}}a.transpinyin=n[i],a.pinyin=this.filterLetter(a.transpinyin),o.push(a)}return o},this.filterLetter=function(e){var n,t;n=e.split(""),t=n.length;for(var r=0;t>r;r++)switch(n[r]){case"ā":n[r]="a";break;case"á":n[r]="a";break;case"ǎ":n[r]="a";break;case"à":n[r]="a";break;case"ē":n[r]="e";break;case"é":n[r]="e";break;case"ě":n[r]="e";break;case"è":n[r]="e";break;case"ī":n[r]="i";break;case"í":n[r]="i";break;case"ǐ":n[r]="i";break;case"ì":n[r]="i";break;case"ō":n[r]="o";break;case"ó":n[r]="o";break;case"ǒ":n[r]="o";break;case"ò":n[r]="o";break;case"ū":n[r]="u";break;case"ú":n[r]="u";break;case"ǔ":n[r]="u";break;case"ù":n[r]="u";break;case"ǚ":n[r]="u";break;case"ǜ":n[r]="u"}return n.join("")}}]),angular.module("tryHskFilters",[]).filter("HSK",function(){return function(e){return console.log("yes"),e?"✓":"✘"}}),tryHskControllers.controller("CheckboxController",["$scope","$rootScope","checkboxValues",function(e,n,t){}]),tryHskControllers.controller("InfoController",["$scope","$rootScope",function(e,n){}]),tryHskControllers.controller("LoveController",["$scope","$rootScope",function(e,n){}]),tryHskControllers.controller("SettingsController",["$scope","$rootScope","language","settings",function(e,n,t,r){e.selectLang=n.content.code,e.freshLanguage=function(e){t.refreshSelectlanguage(e)},r.initSettings(),e.$watch("settings",function(){r.refreshSettings()},!0)}]),tryHskControllers.controller("SummaryController",["$scope","$rootScope","SummaryStateManager",function(e,n,t){function r(r,a){if(r!==a){t.add("summary");for(var o=n.words,s=0;s<o.length;s++)for(var i=0;i<o[s].pinyin.length;i++)o[s].pinyin[i].colorStyle=n.settings.color?o[s].pinyin[i].color:"black";e.words=o,o=null,t.remove("summary")}}n.$watch("words",r,!0),n.$watch("settings.color",r),e.predicate="id"}]),tryHskControllers.controller("TestController",["$scope","$rootScope","sortWords","$timeout","StateManager","score","language",function(e,n,t,r,a,o,s){function i(e){return Math.round(Math.random()*e)}function c(e,n){var t=Math.floor(.85*e);do for(var r=!1,a=i(e-1),o=0;t>o;o++)if(a==n[o]){r=!0;break}while(r);return n.unshift(a),a}function l(e){for(var n=[],t=2;t>=0;t--){do{for(var r=i(e-1),a=!1,o=n.length-1;o>=0;o--)r===n[o]&&(a=!0);r===h&&(a=!0)}while(a);n.push(r)}return n.splice(i(3),0,h),n}function u(){var n=["❤","☀","♞","☭"];e["char"]="☯";for(var t=0;4>t;t++)g[t]["char"]=n[t],g[t].pinyin="☀",g[t].russian="♞",g[t].sound="",g[t].ansver="primary",g[t].button="лол!!!"}function d(t){for(var r=0;4>r;r++){if(g[r]["char"]=t[v[r]]["char"],g[r].pinyin=t[v[r]].pinyin,!n.settings.color)for(var a=0;a<g[r].pinyin.length;a++)g[r].pinyin[a].color="black";g[r].russian=t[v[r]].russian,("pron-char"===e.select||"char-trans"===e.select)&&(g[r].main=t[v[r]].russian),("trans-char"===e.select||"pron-trans"===e.select)&&(g[r].main=t[v[r]]["char"]),g[r].sound=t[v[r]].sound,g[r].id=t[v[r]].id,v[r]==h?(g[r].ansver="success",g[r].ansv=!0,g[r].button=n.content.success):(g[r].ansver="danger",g[r].ansv=!1,g[r].button=n.content.fail)}}function p(n,t){n!==t&&(console.log(e.select),e.nextShow=!1,e.nextRefresh=!0,f=new Array(10))}var h,f=[],g=[{},{},{},{}],v=(document.getElementById("russian_char"),document.getElementById("sound_test"),[]);e.currentRights=0,a.add("test"),s.getLanguage(s.initLanguage()),e.regimes=[{option:n.content["char-trans"],value:"char-trans"},{option:n.content["trans-char"],value:"trans-char"},{option:n.content["pron-char"],value:"pron-char"},{option:n.content["pron-trans"],value:"pron-trans"}],e.select=e.regimes[0].value,e.$watch("select",p,!0),n.$watch("checkboxValues",p,!0),e.isRight=function(n){o.isRight(n),o.count&&(e.answer=!0,e.currentRights=o.count)},e.playSound=function(){return document.getElementById("playSound").play(),!1},e.fill=function(){var t=n.words;switch($("div.content").css("display","none").css("border",""),$("div.frame").removeClass("active"),h=c(t.length,f),e.questionStyle=1==t[h]["char"].length?{width:"92px"}:{width:80*t[h]["char"].length+"px"},e["char"]=t[h]["char"],e.russian=t[h].russian,e.select){case"char-trans":e.charRegime=!0,e.translateRegime=!1,e.soundCharRegime=!1,e.soundTranslateRegime=!1;break;case"trans-char":e.charRegime=!1,e.translateRegime=!0,e.soundCharRegime=!1,e.soundTranslateRegime=!1;break;case"pron-char":e.charRegime=!1,e.translateRegime=!1,e.soundCharRegime=!0,e.soundTranslateRegime=!1,document.getElementById("playSound").play();break;case"pron-trans":e.charRegime=!1,e.translateRegime=!1,e.soundCharRegime=!1,e.soundTranslateRegime=!0,document.getElementById("playSound").play()}return e.variantStyle=e.charRegime||e.soundCharRegime?"":{"font-size":"40px","font-weight":"normal"},e.sound=t[h].sound,v=l(t.length),d(t),setTimeout(function(){$("div.content:has(button.success)").css("border","2px solid #60a917"),$("div.content:has(button.danger)").css("border","2px solid red")},500),g},e.nextWord=function(){o.answered=!1,e.nextShow=!0,e.nextRefresh=!1,n.words.length<10?u():(e.fill(),r(function(){document.getElementById("sound").innerHTML=n.settings.sound||"pron-char"===e.select||"pron-trans"===e.select?'<audio id="playSound" src="'+e.sound+'" autoplay ></audio>':'<audio id="playSound" src="'+e.sound+'"></audio>'},100))},function(){t.getSortWords().then(function(){e.nextWord(),e.wordsTests=g,a.remove("test")})}()}]);